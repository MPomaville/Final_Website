---
title: Second Graph - Global GDP per Capita 1952 vs 2007
author: Matt Pomaville
date: '2018-06-13'
slug: second-graph-global-gdp-per-capita-1952-vs-2007
categories:
  - CS631
  - R
tags:
  - ggplot
description: Desc
hacker_news_id: ''
lobsters_id: ''
meta_img: /images/image.jpg
---



<div id="change-in-gdp-per-capita-graph-brief" class="section level1">
<h1>Change in GDP per Capita graph brief</h1>
<p>This is a brief describing the graph created from the gapminder dataset. It is available as a CRAN Package by installing <code>gapminder</code> and calling <code>library(gapminder)</code> during setup.</p>
<div id="load-required-libraries" class="section level2">
<h2>Load required libraries</h2>
<p>To make this graph I used the <code>tidyverse</code>, <code>gapminder</code>, and <code>wesanderson</code> libraries.</p>
<pre class="r"><code>library(tidyverse)
library(gapminder)
library(wesanderson)</code></pre>
</div>
<div id="cleaning-up-the-gapminder-data" class="section level2">
<h2>Cleaning up the gapminder data</h2>
<p>The gapminder dataset is gigantic and because for this plot I was only interested in the 1952 and 2007 data I filtered for only that data. I also deleted the datapoint for Kuwait in 1952 by filtering for only GDP per Capita values less than $50,000. This is noted in the graph.</p>
<pre class="r"><code>gapminder_gdp &lt;- gapminder %&gt;%
  filter(year == 1952 | year == 2007) %&gt;% 
  filter(gdpPercap &lt;= 50000) %&gt;% 
  mutate(year = as.factor(year))</code></pre>
</div>
<div id="making-the-graph" class="section level2">
<h2>Making the graph</h2>
<p>I then made a simple parallel coordinates plot comparing the national GDP per Capita in 1952 and 2007 for all countries.<br />
<img src="/blog/2018-06-13-second-graph-global-gdp-per-capita-1952-vs-2007_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
</div>
<div id="analyzing-the-graph" class="section level1">
<h1>Analyzing the Graph</h1>
<div id="type-of-graph" class="section level2">
<h2>Type of Graph</h2>
<p>This graph is a simple parallel coordinates plot. On a larger scale, this presentation can be used to shor trends across large sets of data taken at matching points.</p>
</div>
<div id="data-used" class="section level2">
<h2>Data used</h2>
<p>For this graph I used the <code>gapminder</code> dataset generated by Jennifer Bryan and available through CRAN as an R library. The original dataset has 6 columns:</p>
<p><em>country - a character string with the name of the country the data was collected from </em>continent - a character string with the continent the country is part of <em>year - The year the data was collected </em>lifeExp - The average life expectancy of the country in a given year <em>pop - The population of the country in a given year </em>gdpPercap - The GDP per Capita of the country in a given year</p>
<p>The data in the original set has values from 1952 to 2007 for all countries.</p>
</div>
<div id="audience" class="section level2">
<h2>Audience</h2>
<p>This graph is meant for general population consumption by people interested in global macroeconomic trends over multiple decades.</p>
</div>
<div id="description" class="section level2">
<h2>Description</h2>
<p>This graph represents the GDP per Capita on a linear scale on the y-axis. It is broken into individual plots for each continent, and each plot is colored independently. Within each sub-plot the x-axis is the years 1952 and 2007, marking the years the data used was drawn from. Data points for each country are graphed using dots, and the slope of the change is represented with a line cpnnecting the dots.</p>
<p>The big takeaway in reading the graph is that most countries have a higher GDP per capita in 2007 than they did in 1952.</p>
<div id="how-to-read-it" class="section level3">
<h3>How to read it</h3>
<p>As with many graphs, the best place to start reading a parallel coordinated plot is to look for a trend in the y-values as the x-values change. In this case, are the lines between 1952 and 2007 generally moving slanted up or down?</p>
</div>
<div id="annotation-and-presentation" class="section level3">
<h3>Annotation and Presentation</h3>
<p>Annotations or color added to specific data points can be used to highlight a specific country on each continent. For example, I could color the country with the most change black, or the country with the least change red. Both axis can be scaled linearly or logarithmically.</p>
</div>
<div id="variations" class="section level3">
<h3>Variations</h3>
<p>The same data could be represented using box plots for the 1952 and 2007 data rather than points connected by lines. A disadvantage of this is the inability to identify the change seen in outlier countries.</p>
</div>
</div>
<div id="methods" class="section level2">
<h2>Methods</h2>
<p>This graph was created using the following code:</p>
<pre class="r"><code>ggplot(gapminder_gdp, aes(x = year, y = gdpPercap, group = country, color = continent))+
  geom_point()+
  geom_line(alpha = 0.5)+
  #geom_boxplot(aes(x = year, y = gdpPercap), outlier.shape = NA)+
  scale_color_manual(values = wes_palette(&quot;Darjeeling1&quot;))+
  facet_wrap(~continent)+
  ggtitle(&quot;Change in GDP per capita from 1952 to 2007&quot;)+
  labs(x = &quot;Year&quot;, y = &quot;GDP per capita&quot;, color = &quot;Continent&quot;, caption = &quot;Note: The value for Kuwait in 1952 ($108,382.35) is excluded for readibility.&quot;)+
  theme_bw()</code></pre>
<p>This code creates a general ggplot item using the gapminder_gdp data created earlier. It assigns <code>gdpPercap</code> to the y-axis and <code>year</code> to the x-axis. It also groups the data by <code>country</code> and assigns coloration by <code>continent</code>. It then creates dot plot layer which inherits all attributes from the parent ggplot call. Another <code>geom</code> layer is added, this time as a line plot. It inherits all attributes from the parent ggplot call, but adds an <code>alpha</code> value of 0.5 in order to make the lines easier to distinguish. The <code>ggplot</code> finction <code>facet_wrap</code> is called to divide the large plot into a series of small sup-plots by continent. Finally, a title, axis labels, color legend, and a caption note are added.</p>
<p><img src="/blog/2018-06-13-second-graph-global-gdp-per-capita-1952-vs-2007_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
</div>
